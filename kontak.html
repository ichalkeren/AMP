 <?php defined('BASEPATH') OR exit('No direct script access allowed'); class Contact extends CI_Controller { function __construct() { parent::__construct(); $this->load->library('email'); } public function index(){ $this->load->view('vcontact'); } function sendto(){ $next= $this->input->get('next'); $name= $this->input->get('name'); $replyto= $this->input->get('replyto'); $subject= $this->input->get('subject'); $message= $this->input->get('message'); $message_send="Hello ichal,<br><br> Someone just submitted your form on ".$next.". Here's what they had to say:<br><br> <table><tbody><tr><td>Nama</td><td>:</td><td>".$name."</td></tr><tr><td>Replay to</td><td>:</td><td>".$replyto."</td></tr><tr><td>Subject</td><td>:</td><td>".$subject."</td></tr><tr><td>Messages</td><td>:</td><td>".$message."</td></tr></tbody></table> "; $config['mailtype'] = 'html'; $config['wordwrap'] = TRUE; $config['charset'] = 'iso-8859-1'; $config['newline'] = "\r\n"; $this->email->initialize($config); $this->email->from("frachman3@gmail.com","ichal keren"); $this->email->to("frachman3@gmail.com"); $this->email->subject($subject); $this->email->message($message_send); if($this->email->send()){ $this->session->set_flashdata("msg", "Thanks for your messages!"); redirect($next); }else{ $this->session->set_flashdata("msg", "Oops! Someting wrong...."); redirect($next); } } } 
